{% include 'admin/a_header.html' %}
<link rel="stylesheet" type="text/css" href="../../static/admin/css/a_add_bike.css" />
    <link rel='stylesheet' type='text/css' href='../../static/admin/css/a_index.css' />

<!--   &lt;!&ndash;谷歌地图调用api&ndash;&gt;-->
<!--    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD3vT3UOTtr5GYl6yqo3wLfmaiElz66hIw" async defer></script>-->

<!--	<script>-->

<!--    function initialize()-->
<!--    {-->
<!--      var mapProp = {-->
<!--        center: new google.maps.LatLng(55.87189,-4.28922),-->
<!--        zoom:7,-->
<!--        mapTypeId: google.maps.MapTypeId.ROADMAP-->
<!--      };-->
<!--      var map = new google.maps.Map(document.getElementById("googleMap"),mapProp);-->
<!--    }-->

<!--    function loadScript()-->
<!--    {-->
<!--      var script = document.createElement("script");-->
<!--      script.type = "text/javascript";-->
<!--      script.src = "https://maps.googleapis.com/maps/api/js?key=AIzaSyD3vT3UOTtr5GYl6yqo3wLfmaiElz66hIw&sensor=false&callback=initialize";-->
<!--      document.body.appendChild(script);-->
<!--    }-->


<!--    window.onload = loadScript;-->

<!--    </script>-->

	<script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
    <style type="text/css">
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 100%;
      }

      /* Optional: Makes the sample page fill the window. */
      html,
      body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
    <script>
		//Initialize Marker
		var marker;

		function initMap() {
			const glasgow = {
				lat: 55.860916,
				lng: -4.251433
			};
			const map = new google.maps.Map(document.getElementById("googleMap"), {
				zoom: 12,
				center: glasgow,
			});

			// This event listener calls addMarker() when the map is clicked.
			google.maps.event.addListener(map, "click", (event) => {
				placeMarker(event.latLng, map);
				// get latitude and longitude of click
				var clickLat = event.latLng.lat();
				var clickLon = event.latLng.lng();

				// place the values in the input box
				document.getElementById("lat").value = clickLat.toFixed(5);
				document.getElementById("lon").value = clickLon.toFixed(5);
			});

		}

		// Add a marker to the map.
		function placeMarker(location, map) {
			if (marker) {
				marker.setPosition(location);
			} else {
				marker = new google.maps.Marker({
					position: location,
					map: map
				});
			}
		}
    </script>
			<div class="layout_m_content">
				<div class="layout_m_contitle">Add a New Location</div>
				<div class="layout_m_infoupcontent">
					<table border="0">
						<tr>
							<td>Location Id:</td>
							<td><input type="text" class=""  /></td>
						</tr>
                        <tr>
							<td>Location Name:</td>
							<td><input type="text" class=""  /></td>
						</tr>
						<tr>
							<td>Location Type:</td>
							<td>
								<select name="" class="">
									<option value="">City</option>
									<option value="">Bicycle</option>
								</select>
							</td>
						</tr>
                        <tr>
							<td>Location Id:</td>
							<td><input type="text" class=""  /></td>
						</tr>
                        <tr>
							<td>Longitude:</td>
							<td><input type="text" id="lon" class=""  /></td>
						</tr>
                        <tr>
							<td>Latitude:</td>
							<td><input type="text" id="lat" class=""  /></td>
						</tr>
						<td width="70px" height="52px">
									<div class="layout_m_infomcon">
										<p style="color: #FF0000;">*&nbsp;</p>
										<p>Image:</p>
									</div>
								</td>
								<td>
									<img class="layout_m_infoimg" src="../../static/admin/img/dl_06.jpg" />
								</td>
								<td colspan="4" width="50px"><a href="javasrcipt:void(0)" style="margin-left: 10px;">upload</a></td>
					</table>

					 <div class="map" id = "googleMap" style=""></div>
				</div>
				<div class="layout_m_infobtnsave">
					<a id="button_save" href="javasrcipt:void(0)" class="layout_button" title="Submit">Submit</a>
				</div>
			</div>
		</div>
	<script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyD3vT3UOTtr5GYl6yqo3wLfmaiElz66hIw&callback=initMap&libraries=&v=weekly"
      async
    ></script>
<!--{% include 'admin/a_foot.html' %}-->
